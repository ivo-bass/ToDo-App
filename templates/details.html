{% extends 'base.html' %}

{% block content %}


    <div class="row row-cols-4">

        <div class="col-xs-1 d-flex justify-content-start">
            <h5 class="mb-1" style="text-emphasis-style: filled">{{ todo.title }}</h5>
        </div>

        <div class="col-xs-2 d-flex justify-content-end">
            <small>{{ todo.due_date }}</small>
        </div>

        <div class="col-xs-3 d-flex justify-content-start">
            <small class="text-info">Status: </small>
            {% if todo.state %}
                <small class="text-success"> Done </small>
            {% else %}
                <small class="text-danger"> Not Done </small>
            {% endif %}
        </div>

        <div class="col-xs-4 d-flex justify-content-end">
            <form method="post" action="/change-state/{{ todo.id }}">
                {% csrf_token %}
                {% if todo.state %}
                    <button class="btn btn-outline-success" disabled>MARK DONE</button>
                {% else %}
                    <button class="btn btn-outline-success">MARK DONE</button>
                {% endif %}
            </form>
        </div>

    </div>

    <div class="row row-cols-sm-4">
        {% if todo.priority.name == "High" %}
            <small class="text-danger col-1">high priority</small>
        {% elif todo.priority.name == "Normal" %}
            <small class="text-warning col-1">normal priority</small>
        {% else %}
            <small class="text-success col-1">low priority</small>
        {% endif %}
    </div>


    <div class="todo">

        <p>{{ todo.title }}</p>

        <div class="description">
            Description: {{ todo.description }}
        </div>

        <div class="description">
            Due Date: {{ todo.due_date }}
        </div>

        <div class="description">
            Priority: {{ todo.priority }}
        </div>

        <div class="description">State:
            {% if todo.state %}
                <div class="done">DONE</div>
            {% else %}
                <div class="open">NOT DONE</div>
            {% endif %}
        </div>

        <div class="row form-row mb-3">
            <div class="col col-xs-1">
                <form method="post" action="/edit/{{ todo.id }}">
                    {% csrf_token %}
                    <button class="btn btn-outline-warning">EDIT</button>
                </form>
            </div>

            <div class="col col-xs-1">
                <form method="post" action="/change-state/{{ todo.id }}">
                    {% csrf_token %}
                    {% if todo.state %}
                        <button class="btn btn-outline-success" disabled>MARK DONE</button>
                    {% else %}
                        <button class="btn btn-outline-success">MARK DONE</button>
                    {% endif %}
                </form>
            </div>

            <div class="col col-xs-2">
                <form method="post" action="/delete-todo/{{ todo.id }}">
                    {% csrf_token %}
                    <button class="btn btn-danger">DELETE</button>
                </form>
            </div>
        </div>
    </div>


{% endblock %}